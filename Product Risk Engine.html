<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Risk Engine - Wardrobing Detection (Executive)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);
        }
        
        .section-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.07);
            border: 1px solid #e5e7eb;
        }
        
        .score-display {
            background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);
            color: white;
            padding: 32px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(236, 72, 153, 0.4);
        }
        
        .risk-low { background: linear-gradient(135deg, #10b981 0%, #059669 100%); }
        .risk-medium { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); }
        .risk-high { background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); }
        .risk-severe { background: linear-gradient(135deg, #7f1d1d 0%, #450a0a 100%); }
        
        .input-group label {
            display: block;
            font-weight: 600;
            color: #374151;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .input-group select, .input-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 14px;
            transition: all 0.2s;
        }
        
        .input-group select:focus, .input-group input:focus {
            outline: none;
            border-color: #ec4899;
            box-shadow: 0 0 0 3px rgba(236, 72, 153, 0.1);
        }
        
        .calculate-btn {
            background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);
            color: white;
            padding: 16px 32px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 16px;
            border: none;
            cursor: pointer;
            width: 100%;
            transition: transform 0.2s;
            box-shadow: 0 4px 12px rgba(236, 72, 153, 0.3);
        }
        
        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(236, 72, 153, 0.4);
        }
        
        .calculate-btn:active {
            transform: translateY(0);
        }
        
        .breakdown-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 16px;
            background: #fdf2f8;
            border-radius: 8px;
            margin-bottom: 8px;
            border-left: 4px solid #ec4899;
        }
        
        .breakdown-item span:first-child {
            font-weight: 500;
            color: #374151;
        }
        
        .breakdown-item span:last-child {
            font-weight: 700;
            color: #ec4899;
        }
        
        .disclaimer {
            background: #fef3c7;
            border: 2px solid #fbbf24;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 24px;
            display: flex;
            gap: 12px;
            align-items: start;
        }
        
        .disclaimer-icon {
            color: #f59e0b;
            flex-shrink: 0;
        }
        
        .disclaimer-text {
            color: #92400e;
            font-size: 13px;
            line-height: 1.5;
        }

        .note-box {
            background: #eff6ff;
            border: 2px solid #3b82f6;
            border-radius: 12px;
            padding: 16px;
            margin-top: 16px;
            font-size: 12px;
            color: #1e40af;
            line-height: 1.6;
        }

        .note-box strong {
            color: #1e3a8a;
        }

        .formula-box {
            background: #f3f4f6;
            border: 2px dashed #9ca3af;
            border-radius: 10px;
            padding: 12px;
            margin-top: 12px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            color: #1f2937;
        }
    </style>
</head>
<body class="p-6">

    <div class="max-w-6xl mx-auto">
        
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-white mb-3">ðŸ“¦ Product Risk Engine</h1>
            <p class="text-white/90 text-lg">Executive Wardrobing Detection System - Product Assessment</p>
        </div>

        <!-- Disclaimer -->
        <div class="disclaimer">
            <div class="disclaimer-icon">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
            </div>
            <div class="disclaimer-text">
                <strong>Demo Mode:</strong> This is a sample interface for testing the product risk engine. In production, the system will automatically fetch product metadata, historical return rates, pricing data, seasonal trends, and tag usage from the inventory management system without manual input.
            </div>
        </div>

        <div class="grid lg:grid-cols-2 gap-6">
            
            <!-- Left Column: Input Form -->
            <div>
                
                <!-- Section A: Category Ã— Season Interaction -->
                <div class="section-card">
                    <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
                        <span class="w-8 h-8 bg-pink-100 text-pink-600 rounded-full flex items-center justify-center text-sm font-bold">A</span>
                        Category Ã— Season Interaction (50 points)
                    </h2>
                    
                    <div class="input-group mb-4">
                        <label>Category Risk (max 25 pts)</label>
                        <select id="categoryRisk">
                            <option value="3">Low-risk (Innerwear, Essentials)</option>
                            <option value="12">Medium-risk (Casual shirts, tops, dresses)</option>
                            <option value="25">High-risk (Lehenga, Gowns, Ethnic, Designer Kurtas, Party wear)</option>
                        </select>
                    </div>

                    <div class="input-group mb-4">
                        <label>Season or Event Risk (max 25 pts)</label>
                        <select id="seasonRisk">
                            <option value="5">Neutral season</option>
                            <option value="15">Wedding Season</option>
                            <option value="25">Festival Season</option>
                        </select>
                    </div>


                </div>

                <!-- Section B: Price Band Risk -->
                <div class="section-card">
                    <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
                        <span class="w-8 h-8 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center text-sm font-bold">B</span>
                        Price Band Risk (20 points)
                    </h2>
                    
                    <div class="input-group">
                        <label>Product Price Range</label>
                        <select id="priceBand">
                            <option value="0">Below â‚¹500</option>
                            <option value="6">â‚¹500 - â‚¹800</option>
                            <option value="10">â‚¹800 - â‚¹1500</option>
                            <option value="20">â‚¹1500 - â‚¹5000</option>
                            <option value="4">Above â‚¹5000 (Very low misuse, too premium)</option>
                        </select>
                    </div>

                </div>

                <!-- Section C: SKU Return History -->
                <div class="section-card">
                    <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
                        <span class="w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center text-sm font-bold">C</span>
                        SKU Return History (20 points)
                    </h2>
                    
                    <div class="input-group">
                        <label>Historical SKU Return Rate %</label>
                        <select id="skuReturnRate">
                            <option value="0">&lt;10% (Low returns)</option>
                            <option value="6">10-20% (Normal)</option>
                            <option value="12">21-30% (Elevated)</option>
                            <option value="20">&gt;30% (High fraud pattern)</option>
                        </select>
                    </div>

                </div>

                <!-- Section D: Tag Feasibility & Protection -->
                <div class="section-card">
                    <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
                        <span class="w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm font-bold">D</span>
                        Tag Feasibility & Protection (10 points)
                    </h2>
                    
                    <div class="input-group">
                        <label>Shark Tag Protection Status</label>
                        <select id="tagProtection">
                            <option value="0">Shark Tag CAN be applied & IS used</option>
                            <option value="6">Shark Tag CAN be applied but NOT used</option>
                            <option value="10">Shark Tag CANNOT be applied</option>
                        </select>
                    </div>

                </div>

                <button onclick="calculateProductRisk()" class="calculate-btn">
                    Calculate Product Risk Score
                </button>

            </div>

            <!-- Right Column: Results -->
            <div>
                <div id="resultsSection" style="display: none;">
                    
                    <!-- Score Display -->
                    <div class="score-display mb-6" id="scoreCard">
                        <div class="text-6xl font-bold mb-2" id="totalScore">0</div>
                        <div class="text-xl font-semibold mb-4" id="riskLevel">LOW RISK</div>
                        <div class="text-sm opacity-90" id="actionText">Instant approval for return</div>
                    </div>

                    <!-- Breakdown -->
                    <div class="section-card">
                        <h3 class="text-lg font-bold text-gray-800 mb-4">Score Breakdown</h3>
                        <div class="breakdown-item">
                            <span>A. Category Ã— Season (Normalized)</span>
                            <span id="scoreA">0 pts</span>
                        </div>
                        <div class="breakdown-item">
                            <span>B. Price Band Risk</span>
                            <span id="scoreB">0 pts</span>
                        </div>
                        <div class="breakdown-item">
                            <span>C. SKU Return History</span>
                            <span id="scoreC">0 pts</span>
                        </div>
                        <div class="breakdown-item">
                            <span>D. Tag Feasibility</span>
                            <span id="scoreD">0 pts</span>
                        </div>
                    </div>

                    <!-- Combined Score Info -->
                    <div class="section-card">
                        <h3 class="text-lg font-bold text-gray-800 mb-3">Combined Engine Score</h3>
                        <div class="bg-gradient-to-r from-pink-50 to-purple-50 p-4 rounded-xl border border-pink-200">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-sm font-semibold text-gray-700">Product Risk (A+B+C+D)</span>
                                <span class="text-xl font-bold text-pink-600" id="productScore">0</span>
                            
                        </div>
                    </div>

                    <!-- Risk Interpretation -->
                    <div class="section-card">
                        <h3 class="text-lg font-bold text-gray-800 mb-4">Risk Assessment</h3>
                        <div id="riskInterpretation"></div>
                    </div>

                    <!-- Recommended Actions -->
                    <div class="section-card">
                        <h3 class="text-lg font-bold text-gray-800 mb-3">Recommended Actions</h3>
                        <div id="recommendedActions"></div>
                    </div>
                </div>

                <!-- Initial Message -->
                <div id="initialMessage" class="section-card text-center py-12">
                    <svg class="w-16 h-16 mx-auto mb-4 text-gray-300" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"></path>
                    </svg>
                    <p class="text-gray-500 text-lg font-medium">Select product attributes and calculate risk</p>
                    <p class="text-gray-400 text-sm mt-2">Results will appear here</p>
                </div>

            </div>

        </div>

    </div>

    <script>
        function calculateProductRisk() {
            // Get all values
            const categoryRisk = parseInt(document.getElementById('categoryRisk').value);
            const seasonRisk = parseInt(document.getElementById('seasonRisk').value);
            const priceBand = parseInt(document.getElementById('priceBand').value);
            const skuReturnRate = parseInt(document.getElementById('skuReturnRate').value);
            const tagProtection = parseInt(document.getElementById('tagProtection').value);

            // Calculate Section A (Category Ã— Season Interaction with normalization)
            // Formula: (Category Ã— Season) / 12.5
            const scoreA = Math.round((categoryRisk * seasonRisk) / 12.5);
            
            const scoreB = priceBand;
            const scoreC = skuReturnRate;
            const scoreD = tagProtection;

            const totalScore = scoreA + scoreB + scoreC + scoreD;

            // Display results
            document.getElementById('initialMessage').style.display = 'none';
            document.getElementById('resultsSection').style.display = 'block';

            document.getElementById('totalScore').textContent = totalScore;
            document.getElementById('productScore').textContent = totalScore;
            document.getElementById('scoreA').textContent = scoreA + ' pts';
            document.getElementById('scoreB').textContent = scoreB + ' pts';
            document.getElementById('scoreC').textContent = scoreC + ' pts';
            document.getElementById('scoreD').textContent = scoreD + ' pts';

            // Determine risk level
            let riskLevel, riskClass, actionText, interpretation, actions;

            if (totalScore <= 25) {
                riskLevel = "LOW RISK PRODUCT";
                riskClass = "risk-low";
                actionText = "âœ… Standard return policy applies";
                interpretation = `
                    <p class="text-sm text-gray-600 leading-relaxed">
                        This product shows <strong>low wardrobing risk</strong>. The category, pricing, and 
                        season combination indicates minimal fraud potential. Historical return patterns are 
                        within normal ranges.
                    </p>
                `;
                actions = `
                    <ul class="text-sm text-gray-600 space-y-2">
                        <li class="flex gap-2">
                            <span class="text-green-500">âœ“</span>
                            <span>Apply standard return window (7-14 days)</span>
                        </li>
                        <li class="flex gap-2">
                            <span class="text-green-500">âœ“</span>
                            <span>No additional verification required</span>
                        </li>
                        <li class="flex gap-2">
                            <span class="text-green-500">âœ“</span>
                            <span>Standard QC process at warehouse</span>
                        </li>
                    </ul>
                `;
            } else if (totalScore <= 55) {
                riskLevel = "MEDIUM RISK PRODUCT";
                riskClass = "risk-medium";
                actionText = "ðŸ“¸ Photo verification + Reverse shipping charge";
                interpretation = `
                    <p class="text-sm text-gray-600 leading-relaxed">
                        This product exhibits <strong>moderate wardrobing risk</strong>. The category or 
                        seasonal factors suggest potential for misuse. Additional safeguards are recommended 
                        to protect against fraudulent returns.
                    </p>
                `;
                actions = `
                    <ul class="text-sm text-gray-600 space-y-2">
                        <li class="flex gap-2">
                            <span class="text-yellow-500">âš </span>
                            <span>Require 3 photos before accepting return request</span>
                        </li>
                        <li class="flex gap-2">
                            <span class="text-yellow-500">âš </span>
                            <span>Apply reverse logistics charge</span>
                        </li>
                        <li class="flex gap-2">
                            <span class="text-yellow-500">âš </span>
                            <span>Enhanced doorstep QC by pickup agent</span>
                        </li>
                        
                    </ul>
                `;
            } else if (totalScore <= 75) {
                riskLevel = "HIGH RISK PRODUCT";
                riskClass = "risk-high";
                actionText = "ðŸŽ¥ Video proof + Extra fees + Manual review required";
                interpretation = `
                    <p class="text-sm text-gray-600 leading-relaxed">
                        This product is <strong>high-risk for wardrobing fraud</strong>. The combination of 
                        category (ethnic/party wear), season (wedding/festival), price band, and historical 
                        patterns creates significant vulnerability to misuse.
                    </p>
                `;
                actions = `
                    <ul class="text-sm text-gray-600 space-y-2">
                        <li class="flex gap-2">
                            <span class="text-red-500">âœ–</span>
                            <span>Mandatory video proof showing item condition, tags, and packaging</span>
                        </li>
                        <li class="flex gap-2">
                            <span class="text-red-500">âœ–</span>
                            <span>Higher reverse shipping + processing fee</span>
                        </li>
                        <li class="flex gap-2">
                            <span class="text-red-500">âœ–</span>
                            <span>Strict doorstep QC with tamper-proof bag requirement</span>
                        </li>
                        <li class="flex gap-2">
                            <span class="text-red-500">âœ–</span>
                            <span>Manual approval by senior operations team</span>
                        </li>
                        <li class="flex gap-2">
                            <span class="text-red-500">âœ–</span>
                            <span>Reduce return window to 5-7 days</span>
                        </li>
                    </ul>
                `;
            } else {
                riskLevel = "SEVERE RISK PRODUCT";
                riskClass = "risk-severe";
                actionText = "ðŸš« Restricted returns - Enhanced protection needed";
                interpretation = `
                    <p class="text-sm text-gray-600 leading-relaxed">
                        This product represents <strong>severe wardrobing fraud risk</strong>. The combination 
                        of high-value ethnic/designer wear during peak season with poor tag protection creates 
                        maximum vulnerability. Extreme caution required.
                    </p>
                `;
                actions = `
                    <ul class="text-sm text-gray-600 space-y-2">
                        <li class="flex gap-2">
                            <span class="text-red-900">â›”</span>
                            <span><strong>Consider "No Returns" or "Exchange Only" policy</strong></span>
                        </li>
                        <li class="flex gap-2">
                            <span class="text-red-900">â›”</span>
                            <span>If returns allowed: Full video documentation mandatory</span>
                        </li>
                        <li class="flex gap-2">
                            <span class="text-red-900">â›”</span>
                            <span>Premium reverse charge (â‚¹299-â‚¹499) + restocking fee</span>
                        </li>
                        <li class="flex gap-2">
                            <span class="text-red-900">â›”</span>
                            <span>Only allow returns from low-risk customers (Customer Risk &lt; 25)</span>
                        </li>
                        <li class="flex gap-2">
                            <span class="text-red-900">â›”</span>
                            <span>Implement mandatory tamper-proof Shark Tag or fabric seal</span>
                        </li>
                        <li class="flex gap-2">
                            <span class="text-red-900">â›”</span>
                            <span>Senior fraud team approval + legal disclaimer on checkout</span>
                        </li>
                    </ul>
                `;
            }

            // Apply styling and content
            const scoreCard = document.getElementById('scoreCard');
            scoreCard.className = `score-display mb-6 ${riskClass}`;
            document.getElementById('riskLevel').textContent = riskLevel;
            document.getElementById('actionText').textContent = actionText;
            document.getElementById('riskInterpretation').innerHTML = interpretation;
            document.getElementById('recommendedActions').innerHTML = actions;

            // Scroll to results
            document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    </script>

</body>
</html>
